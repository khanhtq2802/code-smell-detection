{"text": "<fim_prefix>/*******************************************************************************\n * Copyright (c) 2013-2017 Lorenzo Bettini.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *   Lorenzo Bettini - Initial contribution and API\n *******************************************************************************/\n\npackage org.eclipse.xsemantics.example.lambda.typesystem.lambda.rules;\n\nimport it.xtypes.runtime.*;\n\n<fim_suffix>public class NotOccurVarInArrowTypeRule extends LambdaTypeSystemRule {\n\n\tprotected Variable<org.eclipse.xsemantics.example.lambda.lambda.TypeVariable> var_t1 = new Variable<org.eclipse.xsemantics.example.lambda.lambda.TypeVariable>(\n\t\t\tcreateEClassifierType(basicPackage.getTypeVariable()));\n\n\tprotected Variable<org.eclipse.xsemantics.example.lambda.lambda.ArrowType> var_t2 = new Variable<org.eclipse.xsemantics.example.lambda.lambda.ArrowType>(\n\t\t\tcreateEClassifierType(basicPackage.getArrowType()));\n\n\tprotected TypingJudgmentEnvironment env_G = new TypingJudgmentEnvironment();\n\n\tpublic NotOccurVarInArrowTypeRule() {\n\t\tthis(\"NotOccurVarInArrow\", \"|-\", \"!-\");\n\t}\n\n\tpublic NotOccurVarInArrowTypeRule(String ruleName,\n\t\t\tString typeJudgmentSymbol, String typeStatementRelation) {\n\t\tsuper(ruleName, typeJudgmentSymbol, typeStatementRelation);\n\t}\n\n\t@Override\n\tpublic Variable<org.eclipse.xsemantics.example.lambda.lambda.TypeVariable> getLeft() {\n\t\treturn var_t1;\n\t}\n\n\t@Override\n\tpublic Variable<org.eclipse.xsemantics.example.lambda.lambda.ArrowType> getRight() {\n\t\treturn var_t2;\n\t}\n\n\t@Override\n\tpublic TypingJudgmentEnvironment getEnvironment() {\n\t\treturn env_G;\n\t}\n\n\t@Override\n\tpublic void setEnvironment(TypingJudgmentEnvironment environment) {\n\t\tif (environment != null)\n\t\t\tenv_G = environment;\n\t}\n\n\t@Override\n\tpublic RuntimeRule newInstance() {\n\t\treturn new NotOccurVarInArrowTypeRule(\"NotOccurVarInArrow\", \"|-\", \"!-\");\n\t}\n\n\t@Override\n\tpublic void applyImpl() throws RuleFailedException {\n\n\t\tapplyNotoccurRule(env_G, var_t1, var_t2.getValue().getLeft());\n\n\t\tapplyNotoccurRule(env_G, var_t1, var_t2.getValue().getRight());\n\n\t\t// final check for variable initialization\n\n\t}\n\n\t@Override\n\tprotected String ruleFailureMessage() {\n\t\treturn \"type variable \" + stringRep(var_t1.getValue().getTypevarName())\n\t\t\t\t+ \" occurs in (\" + stringRep(var_t2.getValue().getLeft())\n\t\t\t\t+ \") -> (\" + stringRep(var_t2.getValue().getRight()) + \")\";\n\t}\n\n}<fim_middle>// class below has no smell\n"}