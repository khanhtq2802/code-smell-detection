{"text": "<fim_prefix>/*\n * reserved comment block\n * DO NOT REMOVE OR ALTER!\n */\n/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\npackage com.sun.org.apache.xml.internal.utils;\n\nimport java.util.Locale;\n\n/**\n * @author Igor Hersht, igorh@ca.ibm.com\n */\n<fim_suffix>public class LocaleUtility {\n    /**\n     * IETF RFC 1766 tag separator\n     */\n    public final static char IETF_SEPARATOR = '-';\n    public final static String EMPTY_STRING = \"\";\n\n\n public static Locale langToLocale(String lang) {\n       if((lang == null) || lang.equals(EMPTY_STRING)){ // not specified => getDefault\n            return Locale.getDefault();\n       }\n        String language = EMPTY_STRING;\n        String country =  EMPTY_STRING;\n        String variant =  EMPTY_STRING;\n\n        int i1 = lang.indexOf(IETF_SEPARATOR);\n        if (i1 < 0) {\n            language = lang;\n        } else {\n            language = lang.substring(0, i1);\n            ++i1;\n            int i2 = lang.indexOf(IETF_SEPARATOR, i1);\n            if (i2 < 0) {\n                country = lang.substring(i1);\n            } else {\n                country = lang.substring(i1, i2);\n                variant = lang.substring(i2+1);\n            }\n        }\n\n        if(language.length() == 2){\n           language = language.toLowerCase();\n        }else {\n          language = EMPTY_STRING;\n        }\n\n        if(country.length() == 2){\n           country = country.toUpperCase();\n        }else {\n          country = EMPTY_STRING;\n        }\n\n        if((variant.length() > 0) &&\n        ((language.length() == 2) ||(country.length() == 2))){\n           variant = variant.toUpperCase();\n        }else{\n            variant = EMPTY_STRING;\n        }\n\n        return new Locale(language, country, variant );\n    }\n\n\n\n }<fim_middle>// class below has no smell\n"}