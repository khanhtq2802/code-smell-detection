{"text": "<fim_prefix>    data.put(\"ESCompCollComp\", createESCompCollComp(edm, odata));\n    data.put(\"ESServerSidePaging\", createESServerSidePaging(edm, odata));\n    data.put(\"ESStreamServerSidePaging\", createESStreamServerSidePaging(edm, odata));\n    data.put(\"ESTwoKeyTwoPrim\", createESTwoKeyTwoPrim(edm, odata));\n    data.put(\"ESAllNullable\", createESAllNullable(edm, odata));\n    data.put(\"ESTwoBase\", createESTwoBase(edm, odata));\n    data.put(\"ESBaseTwoKeyNav\", createESBaseTwoKeyNav(edm, odata));\n    data.put(\"ESCompCollAllPrim\", createESCompCollAllPrim(edm, odata));\n    data.put(\"ESFourKeyAlias\", createESFourKeyAlias(edm, odata));\n    data.put(\"ESBase\", createESBase(edm, odata));\n    data.put(\"ESCompMixPrimCollComp\", createESCompMixPrimCollComp(edm, odata));\n    data.put(\"ESMixEnumDefCollComp\", createESMixEnumDefCollComp(edm, odata));\n    data.put(\"ESStream\", createESStream(edm, odata));\n    data.put(\"ESWithStream\", createESWithStream(edm, odata));\n    data.put(\"ESPeople\", createESPeople(edm, odata));\n    data.put(\"SINav\", createSINav(edm, odata));\n    data.put(\"SI\", createESTwoPrim(edm, odata));\n    data.put(\"ESCompCollDerived\", createESCompCollDerived(edm, odata));\n    data.put(\"ESTwoPrimDerived\", createESTwoPrimDerived(edm, odata));\n    data.put(\"ESAllPrimDerived\", createESAllPrimDerived(edm, odata));\n    data.put(\"ESDelta\", createESDelta(edm, odata));\n    data.put(\"ESKeyNavCont\", createESKeyNavCont(edm, odata));\n    data.put(\"ETCont\", createETCont(edm, odata));\n    data.put(\"ETBaseCont\", createETBaseCont(edm, odata));\n    data.put(\"ETTwoCont\", createETTwoCont(edm, odata));\n    data.put(\"ESStreamOnComplexProp\", createETStreamOnComplexProp(edm, odata));\n    linkSINav(data);\n    linkESTwoPrim(data);\n    linkESAllPrim(data);\n    linkESAllPrimDerived(data);\n    linkESKeyNav(data);\n    linkESTwoKeyNav(data);\n    linkESPeople(data);\n    linkESDelta(data);\n    linkESKeyNavCont(data);\n    linkETBaseCont(data);\n    linkPropCompInESCompMixPrimCollCompToETTwoKeyNav(data);\n    linkCollPropCompInESCompMixPrimCollCompToETTwoKeyNav(data);\n    linkPropCompInESCompMixPrimCollCompToETMedia(data);\n    linkPropMixPrimCompInESCompMixPrimCollCompToETTwoKeyNav(data);\n    linkPropMixPrimCompInESCompMixPrimCollCompToCollETTwoKeyNav(data);\n    linkColPropCompInESMixPrimCollCompToETTwoKeyNav(data);\n    linkETStreamOnComplexPropWithNavigationProperty(data);\n    linkETStreamOnComplexPropWithNavigationPropertyMany(data);\n  }\n  private void linkETStreamOnComplexPropWithNavigationProperty(Map<String, EntityCollection> data) {\n    EntityCollection collection = data.get(\"ESStreamOnComplexProp\");\n    Entity entity = collection.getEntities().get(1);\n    ComplexValue complexValue = entity.getProperties().get(3).asComplex();\n    final List<Entity> esStreamTargets = data.get(\"ESWithStream\").getEntities();\n    Link link = new Link();\n    link.setRel(Constants.NS_NAVIGATION_LINK_REL + \"NavPropertyETStreamOnComplexPropOne\");\n    link.setType(Constants.ENTITY_NAVIGATION_LINK_TYPE);\n    link.setTitle(\"NavPropertyETStreamOnComplexPropOne\");\n    link.setInlineEntity(esStreamTargets.get(1));\n    link.setHref(esStreamTargets.get(1).getId().toASCIIString());\n    complexValue.getNavigationLinks().add(link);\n  }\n  private void linkETStreamOnComplexPropWithNavigationPropertyMany(\n      Map<String, EntityCollection> data) {\n    EntityCollection collection = data.get(\"ESStreamOnComplexProp\");\n    Entity entity = collection.getEntities().get(1);\n    ComplexValue complexValue = entity.getProperties().get(3).asComplex();\n    final List<Entity> esStreamTargets = data.get(\"ESWithStream\").getEntities();\n    Link link = new Link();\n    link.setRel(Constants.NS_NAVIGATION_LINK_REL + \"NavPropertyETStreamOnComplexPropMany\");\n    link.setType(Constants.ENTITY_SET_NAVIGATION_LINK_TYPE);\n    link.setTitle(\"NavPropertyETStreamOnComplexPropMany\");\n    EntityCollection target = new EntityCollection();\n    target.setCount(2);\n    target.getEntities().addAll(Arrays.asList(esStreamTargets.get(0), esStreamTargets.get(1)));\n    link.setInlineEntitySet(target);\n    link.setHref(entity.getId().toASCIIString() + \"/\" + \n    entity.getProperties().get(3).getName() + \"/\"\n        + \"NavPropertyETStreamOnComplexPropMany\");\n    complexValue.getNavigationLinks().add(link);\n  }\n<fim_suffix>  private EntityCollection createETStreamOnComplexProp(Edm edm, OData odata) {\n    EntityCollection entityCollection = new EntityCollection();\n    Link readLink = new Link();\n    readLink.setRel(Constants.NS_MEDIA_READ_LINK_REL);\n    readLink.setHref(\"readLink\");\n    Entity entity = new Entity();\n    entity.addProperty(createPrimitive(\"PropertyStream\", createImage(\"darkturquoise\")));\n    readLink.setInlineEntity(entity);\n    Link readLink1 = new Link();\n    readLink1.setRel(Constants.NS_MEDIA_READ_LINK_REL);\n    readLink1.setHref(\"readLink\");\n    entity = new Entity();\n    entity.addProperty(createPrimitive(\"PropertyEntityStream\", createImage(\"darkturquoise\")));\n    readLink1.setInlineEntity(entity);\n    entityCollection.getEntities().add(new Entity()\n        .addProperty(createPrimitive(\"PropertyInt16\", Short.MAX_VALUE))\n        .addProperty(createPrimitive(\"PropertyInt32\", Integer.MAX_VALUE))\n        .addProperty(new Property(null, \"PropertyEntityStream\", ValueType.PRIMITIVE, readLink1))\n        .addProperty(createComplex(\"PropertyCompWithStream\",\n            ComplexTypeProvider.nameCTWithStreamProp.getFullQualifiedNameAsString(),\n            new Property(null, \"PropertyStream\", ValueType.PRIMITIVE, readLink),\n            createComplex(\"PropertyComp\", \n                ComplexTypeProvider.nameCTTwoPrim.getFullQualifiedNameAsString(),\n                createPrimitive(\"PropertyInt16\", (short) 333),\n                createPrimitive(\"PropertyString\", \"TEST123\")))));\n    Link editLink = new Link();\n    editLink.setRel(Constants.NS_MEDIA_EDIT_LINK_REL);\n    editLink.setHref(\"http://mediaserver:1234/editLink\");\n    editLink.setMediaETag(\"eTag\");\n    editLink.setType(\"image/jpeg\");\n    entity = new Entity();\n    entity.addProperty(createPrimitive(\"PropertyStream\", createImage(\"royalblue\")));\n    editLink.setInlineEntity(entity);\n    Link editLink2 = new Link();\n    editLink2.setRel(Constants.NS_MEDIA_EDIT_LINK_REL);\n    editLink2.setHref(\"http://mediaserver:1234/editLink\");\n    editLink2.setMediaETag(\"eTag\");\n    editLink2.setType(\"image/jpeg\");\n    entity = new Entity();\n    entity.addProperty(createPrimitive(\"PropertyEntityStream\", createImage(\"royalblue\")));\n    editLink2.setInlineEntity(entity);\n    entityCollection.getEntities().add(new Entity()\n        .addProperty(createPrimitive(\"PropertyInt16\", (short) 7))\n        .addProperty(createPrimitive(\"PropertyInt32\", (Integer) 10))\n        .addProperty(new Property(null, \"PropertyEntityStream\", ValueType.PRIMITIVE, editLink2))\n        .addProperty(createComplex(\"PropertyCompWithStream\",\n            ComplexTypeProvider.nameCTWithStreamProp.getFullQualifiedNameAsString(),\n            new Property(null, \"PropertyStream\", ValueType.PRIMITIVE, editLink),\n            createComplex(\"PropertyComp\", \n                ComplexTypeProvider.nameCTTwoPrim.getFullQualifiedNameAsString(),\n                createPrimitive(\"PropertyInt16\", (short) 333),\n                createPrimitive(\"PropertyString\", \"TEST123\")))));\n    setEntityType(entityCollection, edm.getEntityType(EntityTypeProvider.nameETStreamOnComplexProp));\n    createEntityId(edm, odata, \"ESStreamOnComplexProp\", entityCollection);\n    createOperations(\"ESStreamOnComplexProp\", entityCollection, EntityTypeProvider.nameETStreamOnComplexProp);\n    return entityCollection;\n  }<fim_middle>// function below is long method\n"}