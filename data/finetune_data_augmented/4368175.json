{"text": "<fim_prefix>/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership. The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\npackage org.apache.cxf.maven_plugin.common;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\n\nimport org.apache.cxf.tools.common.ToolContext;\nimport org.apache.cxf.tools.wadlto.WADLToJava;\n\n//TODO: Move to the common plugin module\n<fim_suffix>public final class ForkOnceCodeGenerator {\n    private ForkOnceCodeGenerator() {\n        //utility\n    }\n    public static void main(String[] args) throws Exception {\n        File file = new File(args[0]);\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n        String line = reader.readLine();\n        while (line != null) {\n            int i = Integer.parseInt(line);\n            if (i == -1) {\n                reader.close();\n                return;\n            }\n            String[] wargs = new String[i];\n            for (int x = 0; x < i; x++) {\n                wargs[x] = reader.readLine();\n            }\n\n            new WADLToJava(wargs).run(new ToolContext());\n\n            line = reader.readLine();\n        }\n        reader.close();\n    }\n}<fim_middle>// class below has no smell\n"}