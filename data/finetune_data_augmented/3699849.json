{"text": "<fim_prefix>package com.alibaba.otter.canal.spi;\n\nimport com.alibaba.otter.canal.instance.core.CanalInstance;\n\n/**\n * Canal server/instance metrics for export.\n * <strong>\n *     Designed to be created by service provider.\n * </strong>\n * @see CanalMetricsProvider\n * @author Chuanyi Li\n */\n<fim_suffix>public interface CanalMetricsService {\n\n    /**\n     * Initialization on canal server startup.\n     */\n    void initialize();\n\n    /**\n     * Clean-up at canal server stop phase.\n     */\n    void terminate();\n\n    /**\n     * @return {@code true} if the metrics service is running, otherwise {@code false}.\n     */\n    boolean isRunning();\n\n    /**\n     * Register instance level metrics for specified instance.\n     * @param instance {@link CanalInstance}\n     */\n    void register(CanalInstance instance);\n\n    /**\n     * Unregister instance level metrics for specified instance.\n     * @param instance {@link CanalInstance}\n     */\n    void unregister(CanalInstance instance);\n\n    /**\n     * @param port server port for pull\n     */\n    void setServerPort(int port);\n\n}<fim_middle>// class below has no smell\n"}