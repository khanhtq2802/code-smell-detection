{"text": "<fim_prefix>// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage org.apache.tapestry5.corelib.pages;\n\nimport org.apache.tapestry5.Block;\nimport org.apache.tapestry5.SymbolConstants;\nimport org.apache.tapestry5.annotations.*;\nimport org.apache.tapestry5.corelib.base.AbstractInternalPage;\nimport org.apache.tapestry5.ioc.annotations.Inject;\nimport org.apache.tapestry5.ioc.annotations.Symbol;\nimport org.apache.tapestry5.services.dashboard.DashboardManager;\n\n/**\n * @see org.apache.tapestry5.services.dashboard.DashboardManager\n * @since 5.4\n */\n<fim_suffix>@UnknownActivationContextCheck(false)\n@WhitelistAccessOnly\n@ContentType(\"text/html\")\n@Import(stylesheet = \"dashboard.css\")\npublic class T5Dashboard extends AbstractInternalPage\n{\n    @Inject\n    @Symbol(SymbolConstants.TAPESTRY_VERSION)\n    @Property\n    private String frameworkVersion;\n\n    @Property\n    @Inject\n    @Symbol(SymbolConstants.PRODUCTION_MODE)\n    private boolean productionMode;\n\n    @Inject\n    @Property\n    private DashboardManager dashboardManager;\n\n    @Property\n    private String tabName;\n\n    private String activeTab;\n\n    public String getTabClass()\n    {\n        return tabName.equalsIgnoreCase(activeTab) ? \"active\" : null;\n    }\n\n    public Block getContent()\n    {\n        return dashboardManager.getTabContent(activeTab);\n    }\n\n    void onActivate()\n    {\n        activeTab = dashboardManager.getTabNames().get(0);\n    }\n\n    boolean onActivate(String tabName)\n    {\n        activeTab = tabName;\n\n        return true;\n    }\n\n    String onPassivate()\n    {\n        return activeTab;\n    }\n}<fim_middle>// class below is data class\n"}