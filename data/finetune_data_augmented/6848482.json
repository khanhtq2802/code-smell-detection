{"text": "<fim_prefix>/*\nCopyright 2011-2016 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\npackage com.google.security.zynamics.binnavi.Gui.GraphWindows.types;\n\nimport java.awt.Component;\n\nimport javax.swing.JComboBox;\nimport javax.swing.JTextField;\n\nimport com.google.security.zynamics.binnavi.disassembly.types.TypeManager;\nimport com.google.security.zynamics.zylib.gui.CMessageBox;\n\n/**\n * Helper class that validates several types of user inputs when creating new types in the type\n * dialog panels.\n *\n * @author jannewger (Jan Newger)\n *\n */\npublic class UserInputTypeValidation {\n\n  private UserInputTypeValidation() {\n  }\n\n  /**\n   * Determines whether the given list of base types has a selected item.\n   * \n   * @param parent The compoenent that is used as a parent to display error messages.\n   * @param baseTypes The combo box that contains a list of base types.\n   * @return True iff the combo box selected item is not null.\n   */\n  public static boolean validateComboBox(final Component parent, final JComboBox baseTypes) {\n    if (validateComboBox(baseTypes)) {\n      return true;\n    } else {\n      CMessageBox.showWarning(parent, \"Please select a type from the list of base types.\");\n      return false;\n    }\n  }\n\n  /**\n   * Only validate that a base type is selected without showing an error message.\n   */\n  public static boolean validateComboBox(final JComboBox baseTypes) {\n    return baseTypes.getSelectedItem() != null;\n  }\n\n  /**\n   * Determines whether the given text field represents a valid type name and that the corresponding\n   * does not already exist.\n   *\n   * @param parent The component that is used as a parent to display error messages.\n   * @param typeManager The type manager that holds the type system.\n   * @param name The text field that needs to be validated.\n   * @return True iff the name does not already exist and is a valid type name.\n   */\n  public static boolean validateTypeName(\n      final Component parent, final TypeManager typeManager, final JTextField name) {\n    if (validateTypeName(typeManager, name)) {\n      return true;\n    } else {\n      CMessageBox.showWarning(parent, String.format(\n          \"Unable to create empty or existing type.\"));\n      return false;\n    }\n  }\n\n  /**\n   * Only validate the type name without showing an error message.\n   */\n  public static boolean validateTypeName(final TypeManager typeManager, final JTextField name) {\n    return !name.getText().isEmpty() && !typeManager.isTypeExisting(name.getText());\n  }\n\n  /**\n   * Determines whether the given text field contains a valid type size.\n   *\n   * @param parent The component that is used as a parent to display error messages.\n   * @param size The text field that needs to be validated.\n   * @return True iff the given text field contains a valid type size.\n   */\n<fim_suffix>  public static boolean validateTypeSize(final Component parent, final JTextField size) {\n    if (validateTypeSize(size)) {\n      return true;\n    } else {\n      CMessageBox.showWarning(parent, \"Please enter a valid type size.\");\n      return false;\n    }\n  }\n\n  /**\n   * Only validate the type size without showing an error message.\n   */\n  public static boolean validateTypeSize(final JTextField size) {\n    try {\n      if (size.getText().isEmpty() || Integer.parseInt(size.getText()) < 0) {\n        return false;\n      }\n    } catch (final NumberFormatException exception) {\n      return false;\n    }\n    return true;\n  }\n}<fim_middle>// function below has no smell\n"}