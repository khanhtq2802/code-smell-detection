{"text": "<fim_prefix>/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache license, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License. You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the license for the specific language governing permissions and\n * limitations under the license.\n */\npackage org.apache.logging.log4j.core.util;\n\nimport java.security.MessageDigest;\n\nimport org.apache.logging.log4j.util.Strings;\n\n/**\n *\n */\n<fim_suffix>public final class NameUtil {\n\n    private static final int MASK = 0xff;\n\n    private NameUtil() {\n    }\n\n    public static String getSubName(final String name) {\n        if (Strings.isEmpty(name)) {\n            return null;\n        }\n        final int i = name.lastIndexOf('.');\n        return i > 0 ? name.substring(0, i) : Strings.EMPTY;\n    }\n\n    public static String md5(final String string) {\n        try {\n            final MessageDigest digest = MessageDigest.getInstance(\"MD5\");\n            digest.update(string.getBytes());\n            final byte[] bytes = digest.digest();\n            final StringBuilder md5 = new StringBuilder();\n            for (final byte b : bytes) {\n                final String hex = Integer.toHexString(MASK & b);\n                if (hex.length() == 1) {\n                    md5.append('0');\n                }\n                md5.append(hex);\n            }\n            return md5.toString();\n        } catch (final Exception ex) {\n            return string;\n        }\n    }\n}<fim_middle>// class below has no smell\n"}