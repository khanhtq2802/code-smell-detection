{"text": "<fim_prefix>//\n//  ========================================================================\n//  Copyright (c) 1995-2019 Mort Bay Consulting Pty. Ltd.\n//  ------------------------------------------------------------------------\n//  All rights reserved. This program and the accompanying materials\n//  are made available under the terms of the Eclipse Public License v1.0\n//  and Apache License v2.0 which accompanies this distribution.\n//\n//      The Eclipse Public License is available at\n//      http://www.eclipse.org/legal/epl-v10.html\n//\n//      The Apache License v2.0 is available at\n//      http://www.opensource.org/licenses/apache2.0.php\n//\n//  You may elect to redistribute this code under either of these licenses.\n//  ========================================================================\n//\n\npackage org.eclipse.jetty.websocket.common.frames;\n\nimport java.nio.ByteBuffer;\n\nimport org.eclipse.jetty.websocket.api.extensions.Frame;\n\n/**\n * Immutable, Read-only, Frame implementation.\n */\npublic class ReadOnlyDelegatedFrame implements Frame\n{\n    private final Frame delegate;\n    \n    public ReadOnlyDelegatedFrame(Frame frame)\n    {\n        this.delegate = frame;\n    }\n\n    @Override\n    public byte[] getMask()\n    {\n        return delegate.getMask();\n    }\n\n    @Override\n    public byte getOpCode()\n    {\n        return delegate.getOpCode();\n    }\n\n<fim_suffix>    @Override\n    public ByteBuffer getPayload()\n    {\n        if(!delegate.hasPayload()) {\n            return null;\n        }\n        return delegate.getPayload().asReadOnlyBuffer();\n    }\n\n    @Override\n    public int getPayloadLength()\n    {\n        return delegate.getPayloadLength();\n    }\n\n    @Override\n    public Type getType()\n    {\n        return delegate.getType();\n    }\n\n    @Override\n    public boolean hasPayload()\n    {\n        return delegate.hasPayload();\n    }\n\n    @Override\n    public boolean isFin()\n    {\n        return delegate.isFin();\n    }\n\n    @Override\n    @Deprecated\n    public boolean isLast()\n    {\n        return delegate.isLast();\n    }\n\n    @Override\n    public boolean isMasked()\n    {\n        return delegate.isMasked();\n    }\n\n    @Override\n    public boolean isRsv1()\n    {\n        return delegate.isRsv1();\n    }\n\n    @Override\n    public boolean isRsv2()\n    {\n        return delegate.isRsv2();\n    }\n\n    @Override\n    public boolean isRsv3()\n    {\n        return delegate.isRsv3();\n    }\n}<fim_middle>// function below has no smell\n"}