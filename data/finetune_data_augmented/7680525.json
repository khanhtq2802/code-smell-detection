{"text": "<fim_prefix>package com.tencent.wstt.gt.collector.util;\n\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteStatement;\n\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n/**\n * Created by p_hongjcong on 2017/6/27.\n */\n<fim_suffix>public class HookUtil {\n    public static int getDBHashCode(SQLiteStatement sqLiteStatement) {\n        //\u83b7\u53d6SQLiteDatabaseConfiguration\u5bf9\u8c61\uff1a\n        int hashCode = -1;\n        try {\n            Class SQLiteProgramClass = Class.forName(\"android.database.sqlite.SQLiteProgram\");\n            Method[] methods = SQLiteProgramClass.getDeclaredMethods();\n\n            for (Method method : methods) {\n                if (method.getName().equals(\"getDatabase\")) {\n                    method.setAccessible(true);\n                    SQLiteDatabase property = (SQLiteDatabase) method.invoke(sqLiteStatement);\n                    if (property != null) {\n                        hashCode = property.hashCode();\n                    }\n                }\n            }\n        } catch ( IllegalAccessException | ClassNotFoundException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n\n        return hashCode;\n    }\n\n    public static String getSQL(SQLiteStatement sqLiteStatement) {\n        // \u83b7\u53d6SQLiteDatabaseConfiguration\u5bf9\u8c61\uff1a\n        String sql = null;\n        try {\n            Class SQLiteProgramClass = Class.forName(\"android.database.sqlite.SQLiteProgram\");\n            Method[] methods = SQLiteProgramClass.getDeclaredMethods();\n\n            for (Method method : methods) {\n                if (method.getName().equals(\"getSql\")) {\n                    method.setAccessible(true);\n                    sql = (String) method.invoke(sqLiteStatement);\n                    if (sql == null) {\n                        sql = \"\";\n                    }\n                }\n            }\n        } catch ( IllegalAccessException | ClassNotFoundException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n\n        return sql;\n    }\n}<fim_middle>// class below has no smell\n"}