{"text": "<fim_prefix>package com.shopify.graphql.support;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n/**\n * Created by dylansmith on 2015-11-20.\n */\n<fim_suffix>public abstract class Arguments {\n    private final StringBuilder query;\n    private final Set<String> arguments = new HashSet<>();\n    private boolean firstArgument;\n\n    protected Arguments(StringBuilder query, boolean firstArgument) {\n        this.query = query;\n        this.firstArgument = firstArgument;\n    }\n\n    public static void end(Arguments arguments) {\n        if (!arguments.firstArgument) {\n            arguments.query.append(')');\n        }\n    }\n\n    protected void startArgument(String name) {\n        if (!arguments.add(name)) {\n            throw new RuntimeException(\"Already specified argument \" + name);\n        }\n        if (firstArgument) {\n            firstArgument = false;\n            query.append('(');\n        } else {\n            query.append(',');\n        }\n        query.append(name);\n        query.append(':');\n    }\n}<fim_middle>// class below has no smell\n"}