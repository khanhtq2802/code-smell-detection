{"text": "<fim_prefix>/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License. You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\npackage opennlp.tools.util.featuregen;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport opennlp.tools.postag.POSModel;\nimport opennlp.tools.postag.POSTagger;\nimport opennlp.tools.postag.POSTaggerME;\n\n/**\n * Adds the token POS Tag as feature. Requires a POS Tag model.\n */\n<fim_suffix>public class POSTaggerNameFeatureGenerator implements AdaptiveFeatureGenerator {\n\n  private POSTagger posTagger;\n\n  private String[] cachedTokens;\n  private String[] cachedTags;\n\n  /**\n   * Initializes a new instance.\n   *\n   * @param aPosTagger a POSTagger implementation.\n   */\n  public POSTaggerNameFeatureGenerator(POSTagger aPosTagger) {\n    this.posTagger = aPosTagger;\n  }\n\n  /**\n   * Initializes a new instance.\n   *\n   * @param aPosModel a POSTagger model.\n   */\n  public POSTaggerNameFeatureGenerator(POSModel aPosModel) {\n\n    this.posTagger = new POSTaggerME(aPosModel);\n  }\n\n\n  public void createFeatures(List<String> feats, String[] toks, int index, String[] preds) {\n    if (!Arrays.equals(this.cachedTokens, toks)) {\n      this.cachedTokens = toks;\n      this.cachedTags = this.posTagger.tag(toks);\n    }\n\n    feats.add(\"pos=\" + this.cachedTags[index]);\n  }\n\n\n}<fim_middle>// class below has no smell\n"}