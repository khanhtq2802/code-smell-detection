{"text": "<fim_prefix>/*\n * This file provided by Facebook is for non-commercial testing and evaluation\n * purposes only.  Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\npackage com.facebook.samples.comparison.adapters;\n\nimport android.content.Context;\nimport android.view.ViewGroup;\nimport com.androidquery.AQuery;\nimport com.facebook.samples.comparison.holders.AQueryHolder;\nimport com.facebook.samples.comparison.instrumentation.InstrumentedImageView;\nimport com.facebook.samples.comparison.instrumentation.PerfListener;\n\n/**\n * RecyclerView Adapter for Android Query\n */\n<fim_suffix>public class AQueryAdapter extends ImageListAdapter {\n\n  private AQuery mAQuery;\n\n  public AQueryAdapter(\n      Context context,\n      PerfListener perfListener) {\n    super(context, perfListener);\n    mAQuery = new AQuery(context);\n  }\n\n  @Override\n  public AQueryHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    final InstrumentedImageView instrImageView = new InstrumentedImageView(getContext());\n    return new AQueryHolder(getContext(), mAQuery, parent, instrImageView, getPerfListener());\n  }\n\n  @Override\n  public void shutDown() {\n    for (int i = 0; i < getItemCount(); i++) {\n      String uri = getItem(i);\n      mAQuery.invalidate(uri);\n    }\n    super.clear();\n  }\n}<fim_middle>// class below has no smell\n"}