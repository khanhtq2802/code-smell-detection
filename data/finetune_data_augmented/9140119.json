{"text": "<fim_prefix>\t\tlayout.marginBottom = WidgetUtil.SPACING;\n\t\tlayout.marginTop = 1;\n\t\tlayout.marginWidth = WidgetUtil.SPACING;\n\t\tlayout.spacing = WidgetUtil.SPACING;\n\t\tformPanel.setLayout( layout );\n\t\tFormData data = new FormData( );\n\t\tdata.right = new FormAttachment( 90 );\n\t\tdata.top = new FormAttachment( 0, 0 );\n\t\tdata.width = Math.max( btnWidth, btnAdd.computeSize( SWT.DEFAULT,\n\t\t\t\tSWT.DEFAULT,\n\t\t\t\ttrue ).x );\n\t\tbtnAdd.setLayoutData( data );\n\t\tdata = new FormData( );\n\t\tdata.top = new FormAttachment( btnAdd, 0, SWT.BOTTOM );\n\t\tdata.left = new FormAttachment( btnAdd, 0, SWT.LEFT );\n\t\tdata.width = Math.max( btnWidth, btnEdit.computeSize( SWT.DEFAULT,\n\t\t\t\tSWT.DEFAULT,\n\t\t\t\ttrue ).x );\n\t\tbtnEdit.setLayoutData( data );\n\t\tdata = new FormData( );\n\t\tdata.top = new FormAttachment( btnEdit, 0, SWT.BOTTOM );\n\t\tdata.left = new FormAttachment( btnEdit, 0, SWT.LEFT );\n\t\tdata.width = Math.max( btnWidth, btnDel.computeSize( SWT.DEFAULT,\n\t\t\t\tSWT.DEFAULT,\n\t\t\t\ttrue ).x );\n\t\tbtnDel.setLayoutData( data );\n\t\tdata = new FormData( );\n\t\tdata.top = new FormAttachment( btnAdd, 0, SWT.TOP );\n\t\tdata.bottom = new FormAttachment( 100 );\n\t\tdata.left = new FormAttachment( 0, 0 );\n\t\tdata.right = new FormAttachment( btnAdd, 0, SWT.LEFT );\n\t\ttable.setLayoutData( data );\n\t}\n\tprotected void fullLayout( )\n\t{\n\t\tFormLayout layout = new FormLayout( );\n\t\tlayout.marginBottom = WidgetUtil.SPACING;\n\t\tlayout.marginTop = 1;\n\t\tlayout.marginWidth = WidgetUtil.SPACING;\n\t\tlayout.spacing = WidgetUtil.SPACING;\n\t\tformPanel.setLayout( layout );\n\t\tFormData data = new FormData( );\n\t\tdata.right = new FormAttachment( 90 );\n\t\tdata.top = new FormAttachment( 0, 0 );\n\t\tdata.width = Math.max( btnWidth, btnAdd.computeSize( SWT.DEFAULT,\n\t\t\t\tSWT.DEFAULT,\n\t\t\t\ttrue ).x );\n\t\tbtnAdd.setLayoutData( data );\n\t\tdata = new FormData( );\n\t\tdata.top = new FormAttachment( btnAdd, 0, SWT.BOTTOM );\n\t\tdata.left = new FormAttachment( btnAdd, 0, SWT.LEFT );\n\t\tdata.width = Math.max( btnWidth, btnEdit.computeSize( SWT.DEFAULT,\n\t\t\t\tSWT.DEFAULT,\n\t\t\t\ttrue ).x );\n\t\tbtnEdit.setLayoutData( data );\n\t\tdata = new FormData( );\n\t\tdata.top = new FormAttachment( btnEdit, 0, SWT.BOTTOM );\n\t\tdata.left = new FormAttachment( btnEdit, 0, SWT.LEFT );\n\t\tdata.width = Math.max( btnWidth, btnDel.computeSize( SWT.DEFAULT,\n\t\t\t\tSWT.DEFAULT,\n\t\t\t\ttrue ).x );\n\t\tbtnDel.setLayoutData( data );\n\t\tdata = new FormData( );\n\t\tdata.top = new FormAttachment( btnAdd, 0, SWT.TOP );\n\t\tdata.bottom = new FormAttachment( 100 );\n\t\tdata.left = new FormAttachment( 0, 0 );\n\t\tdata.right = new FormAttachment( btnAdd, 0, SWT.LEFT );\n\t\ttable.setLayoutData( data );\n\t}\n\tprivate class FormLabelProvider extends LabelProvider implements\n\t\t\tITableLabelProvider\n\t{\n\t\t/*\n\t\t * (non-Javadoc)\n\t\t * \n\t\t * @see\n\t\t * org.eclipse.jface.viewers.ITableLabelProvider#getColumnImage(java\n\t\t * .lang.Object, int)\n\t\t */\n\t\tpublic Image getColumnImage( Object element, int columnIndex )\n\t\t{\n\t\t\treturn null;\n\t\t}\n\t\t/*\n\t\t * (non-Javadoc)\n\t\t * \n\t\t * @see\n\t\t * org.eclipse.jface.viewers.ITableLabelProvider#getColumnText(java.\n\t\t * lang.Object, int)\n\t\t */\n\t\tpublic String getColumnText( Object element, int columnIndex )\n\t\t{\n\t\t\treturn ( (ISortingFormProvider) getDescriptorProvider( ) ).getColumnText( element,\n\t\t\t\t\tcolumnIndex );\n\t\t}\n\t}\n\tpublic void setHidden( boolean isHidden )\n\t{\n\t\tWidgetUtil.setExcludeGridData( formPanel, isHidden );\n\t}\n\tpublic void setVisible( boolean isVisible )\n\t{\n\t\tformPanel.setVisible( isVisible );\n\t}\n\tprotected void handleAddSelectEvent( )\n\t{\n\t\tint pos = table.getSelectionIndex( );\n\t\ttry\n\t\t{\n\t\t\t( (AbstractSortingFormHandleProvider) getDescriptorProvider( ) ).add( pos );\n\t\t}\n\t\tcatch ( Exception e )\n\t\t{\n\t\t\tWidgetUtil.processError( btnAdd.getShell( ), e );\n\t\t\treturn;\n\t\t}\n\t\ttable.setSelection( ( (AbstractSortingFormHandleProvider) getDescriptorProvider( ) ).getShowIndex( table.getItemCount( ) - 1 ) );\n\t\tupdateArraw( );\n\t}\n\tprotected void handleDelSelectEvent( )\n\t{\n\t\tif ( tableViewer.isCellEditorActive( ) )\n\t\t{\n\t\t\ttableViewer.cancelEditing( );\n\t\t}\n\t\tint pos = table.getSelectionIndex( );\n\t\tif ( pos == -1 )\n\t\t{\n\t\t\ttable.setFocus( );\n\t\t\treturn;\n\t\t}\n\t\tselectIndex = pos;\n\t\tint itemCount = table.getItemCount( );\n\t\tif ( selectIndex == itemCount - 1 )\n\t\t{\n\t\t\tselectIndex--;\n\t\t}\n\t\ttry\n\t\t{\n\t\t\t( (ISortingFormProvider) getDescriptorProvider( ) ).doDeleteItem( pos );\n\t\t}\n\t\tcatch ( Exception e1 )\n\t\t{\n\t\t\tWidgetUtil.processError( btnDel.getShell( ), e1 );\n\t\t}\n\t\tupdateArraw( );\n\t}\n\tprotected void handleTableMouseDoubleClickEvent( )\n\t{\n\t\tif ( !( (ISortingFormProvider) getDescriptorProvider( ) ).isEditable( ) )\n\t\t\treturn;\n\t\tif ( style == FULL_FUNCTION || style == FULL_FUNCTION_HORIZONTAL )\n\t\t{\n\t\t\tedit( );\n\t\t}\n\t}\n\tprotected void handleTableSelectEvent( )\n\t{\n\t\tselectIndex = table.getSelectionIndex( );\n\t\tupdateArraw( );\n\t}\n\tprotected void handleTableKeyPressEvent( KeyEvent e )\n\t{\n\t\tif ( !( (ISortingFormProvider) getDescriptorProvider( ) ).isEditable( ) )\n\t\t\treturn;\n\t\tif ( e.keyCode == SWT.DEL )\n\t\t{\n\t\t\tint itemCount = table.getItemCount( );\n\t\t\tint pos = table.getSelectionIndex( );\n\t\t\tif ( pos < 0 ) // select nothing\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( selectIndex == itemCount - 1 )\n\t\t\t{\n\t\t\t\tselectIndex--;\n\t\t\t}\n\t\t\ttry\n\t\t\t{\n\t\t\t\t( (ISortingFormProvider) getDescriptorProvider( ) ).doDeleteItem( pos );\n\t\t\t}\n\t\t\tcatch ( Exception e1 )\n\t\t\t{\n\t\t\t\tWidgetUtil.processError( table.getShell( ), e1 );\n\t\t\t}\n\t\t}\n\t\telse if ( e.character == '\\r' ) // return is pressed\n\t\t{\n\t\t\tif ( style == FULL_FUNCTION || style == FULL_FUNCTION_HORIZONTAL )\n\t\t\t{\n\t\t\t\tedit( );\n\t\t\t}\n\t\t}\n\t}\n\tprotected void handleEditSelectEvent( )\n\t{\n\t\tedit( );\n\t}\n\tpublic void save( Object obj ) throws SemanticException\n\t{\n\t\t// TODO Auto-generated method stub\n\t}\n\tprivate List eventList = new LinkedList( );\n<fim_suffix>\tpublic void addElementEvent( DesignElementHandle focus, NotificationEvent ev )\n\t{\n\t\tModelEventInfo event = new ModelEventInfo( focus, ev );\n\t\teventList.add( event );\n\t}<fim_middle>// function below has no smell\n"}