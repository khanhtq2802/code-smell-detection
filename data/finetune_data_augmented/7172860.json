{"text": "<fim_prefix>// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See License.txt in the project root.\n\npackage com.microsoft.alm.client.model;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport com.microsoft.alm.client.utils.JsonHelper;\nimport com.microsoft.alm.client.utils.StringUtil;\n\npublic class NameValueCollection extends HashMap<String, String> {\n\n<fim_suffix>    public <TValue> void addIfNotEmpty(String parameterName, List<TValue> values) {\n        if (values != null && !values.isEmpty()) {\n            put(parameterName, StringUtil.join(\",\", values)); //$NON-NLS-1$\n        }\n    }\n\n    public void addIfNotEmpty(String parameterName, String value) {\n        if (!StringUtil.isNullOrEmpty(value)) {\n            put(parameterName, value);\n        }\n    }\n\n    public <TValue> void addIfNotNull(String parameterName, TValue value) {\n        if (value != null) {\n            if (value instanceof Date) {\n                put(parameterName, JsonHelper.getDateFormat().format((Date) value));\n            } else {\n                put(parameterName, value.toString());\n            }\n        }\n    }\n}<fim_middle>// function below has no smell\n"}